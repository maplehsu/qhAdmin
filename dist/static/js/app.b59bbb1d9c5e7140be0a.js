webpackJsonp([1],{"+cgv":function(t,e){},"0AzE":function(t,e){},"3f40":function(t,e){},"3lM2":function(t,e){},"4qOc":function(t,e){},"5W3f":function(t,e){},FZsl:function(t,e){},NHnr:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=l("VU/8")({name:"App"},o,!1,null,null,null).exports,r=l("/ocq"),n={components:{},data:()=>({url:[{title:"路线管理",path:"/",index:1,icon:"el-icon-location fc-purple"},{title:"预约订单",path:"/reserve",index:2,icon:"el-icon-tickets fc-green"}]}),mounted(){},methods:{}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-aside",{attrs:{width:"270px"}},[l("el-menu",{attrs:{router:"","default-active":this.$route.path}},t._l(t.url,function(e){return l("el-menu-item",{attrs:{index:e.path}},[l("i",{class:e.icon}),t._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])}))],1)},staticRenderFns:[]};var c=l("VU/8")(n,s,!1,function(t){l("FZsl")},"data-v-bbff0360",null).exports,d={components:{mNav:c},data(){return{addForm:!1,editForm:!1,tableData:null,route:null,coverUrl:this.api.upload,editorOption:{modules:{toolbar:[[{align:[]}],["image"]]}},form:{title:"",cover:[],price:"",notice:"本产品同样适用于公司单位独立成团，如您的出行人数大于9人，又或者您有特殊的订制需求，那么请将您的详细需求发送到指定邮箱：xxxxxxxxxxx@xxx.com，稍后将有专业的产品旅游规划师亲自为您处理，感谢选择与信赖！",content:""},formEdit:{},formLabelWidth:"120px"}},mounted(){this.init()},methods:{init(){this.axios.get(this.api.getPath).then(t=>{this.tableData=t.data})},addSave(){this.axios.post(this.api.addPath,this.form).then(t=>{200==t.status&&(this.addForm=!1,this.$message("添加成功"),this.init())})},editSave(){this.axios.post(this.api.editPath,this.formEdit).then(t=>{200==t.status&&(this.editForm=!1,this.$message("修改成功"),this.init())})},openDelete(t){this.$confirm("是否删除本条数据?","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{this.axios.post(this.api.deletePath,{_id:t._id}).then(t=>{200==t.status&&(this.$message("删除成功"),this.init())})})},coverSuccess(t,e){this.form.cover.push({name:t.filename,url:Object({NODE_ENV:"production"}).API_ROOT+"/"+t.filename})},coverClear(t,e){this.$refs.editUpload.clearFiles()},coverEditSuccess(t,e){this.formEdit.cover=[],this.formEdit.cover.push({name:t.filename,url:Object({NODE_ENV:"production"}).API_ROOT+"/"+t.filename})},openEdit(t){this.editForm=!0,this.formEdit=t},handleClick(t){console.log(t)}}},m={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-container",[l("mNav"),t._v(" "),l("el-container",[l("el-header",{attrs:{height:"70px"}},[t._v("Header")]),t._v(" "),l("el-main",[l("div",{staticClass:"box"},[l("el-row",[l("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:function(e){t.addForm=!0}}},[t._v("添加路线")]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[l("el-table-column",{attrs:{prop:"creatTime",label:"时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),l("el-table-column",{attrs:{prop:"cover",label:"封面"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.cover,function(t){return l("img",{attrs:{src:t.url,width:"50",height:"50"}})})}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.openEdit(e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.openDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)])],1),t._v(" "),l("el-dialog",{attrs:{title:"添加路线",width:"60%",visible:t.addForm},on:{"update:visible":function(e){t.addForm=e}}},[l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"路线标题","label-width":t.formLabelWidth}},[l("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"封面","label-width":t.formLabelWidth}},[l("el-upload",{staticStyle:{"text-align":"left"},attrs:{action:t.coverUrl,limit:1,"on-success":t.coverSuccess}},[l("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"路线价格","label-width":t.formLabelWidth}},[l("el-input",{attrs:{type:"number",placeholder:"元为单位"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"路线公告","label-width":t.formLabelWidth}},[l("el-input",{attrs:{type:"textarea",rows:2,height:"200px",placeholder:"请输入公告"},model:{value:t.form.notice,callback:function(e){t.$set(t.form,"notice",e)},expression:"form.notice"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"线路介绍","label-width":t.formLabelWidth}},[l("quill-editor",{attrs:{options:t.editorOption},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.addForm=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.addSave}},[t._v("保 存")])],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"编辑路线",width:"60%",visible:t.editForm},on:{"update:visible":function(e){t.editForm=e}}},[l("el-form",{attrs:{model:t.formEdit}},[l("el-form-item",{attrs:{label:"路线标题","label-width":t.formLabelWidth}},[l("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.formEdit.title,callback:function(e){t.$set(t.formEdit,"title",e)},expression:"formEdit.title"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"封面","label-width":t.formLabelWidth}},[l("el-upload",{ref:"editUpload",staticStyle:{"text-align":"left"},attrs:{action:t.coverUrl,limit:1,"on-remove":t.coverClear,"on-success":t.coverEditSuccess,"file-list":t.formEdit.cover}},[l("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("如果需要替换图片，请先删除已上传图片。")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"路线价格","label-width":t.formLabelWidth}},[l("el-input",{attrs:{type:"number",placeholder:"元为单位"},model:{value:t.formEdit.price,callback:function(e){t.$set(t.formEdit,"price",e)},expression:"formEdit.price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"路线公告","label-width":t.formLabelWidth}},[l("el-input",{attrs:{type:"textarea",rows:2,height:"200px",placeholder:"请输入公告"},model:{value:t.formEdit.notice,callback:function(e){t.$set(t.formEdit,"notice",e)},expression:"formEdit.notice"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"线路介绍","label-width":t.formLabelWidth}},[l("quill-editor",{attrs:{options:t.editorOption},model:{value:t.formEdit.content,callback:function(e){t.$set(t.formEdit,"content",e)},expression:"formEdit.content"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.editForm=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.editSave}},[t._v("保 存")])],1)],1)],1)},staticRenderFns:[]};var u=l("VU/8")(d,m,!1,function(t){l("3lM2")},"data-v-46018b35",null).exports,p={components:{mNav:c},data:()=>({tableData:null,formLabelWidth:"120px"}),mounted(){this.init()},methods:{init(){this.axios.get(this.api.getReserve).then(t=>{this.tableData=t.data})},openDelete(t){this.$confirm("是否删除本条数据?","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{this.axios.post(this.api.deletePath,{_id:t._id}).then(t=>{200==t.status&&(this.$message("删除成功"),this.init())})})}}},f={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-container",[l("mNav"),t._v(" "),l("el-container",[l("el-header",{attrs:{height:"70px"}},[t._v("Header")]),t._v(" "),l("el-main",[l("div",{staticClass:"box"},[l("el-row",[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[l("el-table-column",{attrs:{prop:"creatTime",label:"创建时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),l("el-table-column",{attrs:{prop:"userName",label:"游客姓名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"number",label:"组团人数"}}),t._v(" "),l("el-table-column",{attrs:{prop:"startTime",label:"出发时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"endTime",label:"到达时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.openDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)])],1)],1)},staticRenderFns:[]};var h=l("VU/8")(p,f,!1,function(t){l("5W3f")},"data-v-485a2315",null).exports;a.default.use(r.a);var v=new r.a({mode:"history",routes:[{path:"/",name:"index",component:u},{path:"/reserve",name:"reserve",component:h}]}),b=l("mtWM"),_=l.n(b),x=(l("0AzE"),l("VaBq"),{addPath:Object({NODE_ENV:"production"}).API_ROOT+"/addPath",getPath:Object({NODE_ENV:"production"}).API_ROOT+"/getPath",getReserve:Object({NODE_ENV:"production"}).API_ROOT+"/getReserve",editPath:Object({NODE_ENV:"production"}).API_ROOT+"/editPath",deletePath:Object({NODE_ENV:"production"}).API_ROOT+"/deletePath",upload:Object({NODE_ENV:"production"}).API_ROOT+"/upload"}),E=l("zL8q"),O=l.n(E),g=(l("tvR6"),l("G0J2")),w=l.n(g);l("3f40"),l("4qOc"),l("+cgv");a.default.use(O.a),a.default.use(w.a),a.default.config.productionTip=!1,a.default.prototype.axios=_.a,a.default.prototype.api=x,new a.default({el:"#app",router:v,components:{App:i},template:"<App/>"})},VaBq:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b59bbb1d9c5e7140be0a.js.map